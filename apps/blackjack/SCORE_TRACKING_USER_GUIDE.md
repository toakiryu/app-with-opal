# スコアトラッキング機能 - ユーザーガイド

## 機能概要

このブラックジャックゲームには、あなたのプレイ記録を追跡するスコア機能が組み込まれています。
**破産するまでに何試合プレイできるか**があなたのスコアとなり、実力を可視化できます。

## 主な機能

### 📊 リアルタイムスコア表示

ゲーム画面の下部に、以下の情報が常時表示されます：

- **試合数**: 現在のゲームで何試合プレイしたか
- **最高記録**: これまでの最高スコア

### 💸 破産時の記録

所持金が0ドルになると：

1. **破産モーダル**が表示されます
2. 今回のスコア（試合数）が表示されます
3. 最高記録を更新した場合、**新記録達成バッジ**が表示されます
4. 「リトライ」で新しいゲームを開始できます
5. 「スコアボード」で詳細な統計を確認できます

### 📈 スコアボード

スコアボードボタンをクリックすると、詳細な統計情報を確認できます：

#### 統計情報

- **最高記録**: 過去最高のスコア
- **総ゲーム数**: 破産した回数
- **総試合数**: すべてのゲームでプレイした試合の合計
- **平均スコア**: 1ゲームあたりの平均試合数

#### プレイ履歴

最新10件のゲーム記録が表示されます：

- スコア（試合数）
- プレイ日時
- プレイ時間

## データの保存

### 自動保存

- すべてのデータは**自動的にブラウザに保存**されます
- 各試合終了後に即座に保存されるため、データが失われる心配はありません
- ブラウザを閉じても、次回アクセス時に前回の続きからプレイできます

### データの保持場所

- データはブラウザの **localStorage** に保存されます
- 保存されるデータ:
  - 現在の試合数
  - 現在の所持金
  - スコア履歴
  - 統計情報

### 注意事項

- データは**使用しているブラウザごと**に保存されます
  - Chrome と Firefox で別々のデータになります
- **プライベートモード**（シークレットモード）では、ブラウザを閉じるとデータが消えます
- ブラウザのキャッシュをクリアすると、データが削除される場合があります

## ゲームの流れ

### 初回プレイ

1. ゲームにアクセス
2. 所持金 $1,000 でスタート
3. ブラックジャックをプレイ
4. 破産するまでプレイ
5. スコアが記録される

### 2回目以降

1. ゲームにアクセス
2. **前回終了時の所持金**で自動的に再開
3. プレイを続行
4. 破産したら新しいゲームとしてスコアが記録される

## スコアを伸ばすコツ

### 基本戦略

- **ベーシックストラテジー**を学ぶ
- ディーラーのアップカードを常に確認
- 適切なタイミングでヒット・スタンドを選択

### 資金管理

- **小額のベット**から始める（$5-$10）
- 連勝時に少しずつベット額を増やす
- 連敗時はベット額を減らす
- 所持金の10%以上を一度にベットしない

### リスク管理

- **ダブルダウン**は慎重に
  - 所持金に余裕がある時のみ
  - 有利な状況（11のハンドなど）でのみ使用
- **スプリット**も同様に慎重に
  - エースや8のペアは推奨
  - 10やフェイスカードのスプリットは避ける

## よくある質問（FAQ）

### Q: スコアをリセットできますか？

A: 現在のバージョンでは、手動でのリセット機能はありません。
ブラウザの開発者ツールから localStorage をクリアすることで可能ですが、推奨しません。

### Q: データをバックアップできますか？

A: 現在のバージョンでは、UI からのエクスポート機能はありませんが、
将来のアップデートで追加予定です。

### Q: 他のデバイスにデータを移行できますか？

A: 現在のバージョンでは対応していません。将来のアップデートで
データのインポート/エクスポート機能を追加予定です。

### Q: プライベートモードでもスコアは保存されますか？

A: いいえ。プライベートモード（シークレットモード）では、
ブラウザを閉じるとデータが削除されます。

### Q: 最高記録は何試合ですか？

A: 理論上の上限はありませんが、ハウスエッジにより長期的には
破産に向かう傾向があります。50試合を超えれば優秀、
100試合を超えれば驚異的なスコアと言えます。

### Q: スコアを改ざんできないようにしていますか？

A: カジュアルな改ざん（開発者ツールでの直接編集）は防いでいます。
ただし、技術的な知識があるユーザーは改ざん可能です。

このゲームはオフラインで動作する個人的な楽しみのためのものです。
オンラインランキングや賞金はありませんので、スコアを偽っても
自己満足以外の意味はありません。

**クライアントサイドのみのゲームでは、完全な改ざん防止は
原理的に不可能です。** これは「バグ」ではなく「仕様」です。

## トラブルシューティング

### スコアが表示されない

1. ページをリロードしてください
2. ブラウザのキャッシュをクリアしてください
3. localStorage が有効か確認してください

### データが消えた

- ブラウザのキャッシュをクリアした可能性があります
- プライベートモードで使用していた可能性があります
- 異なるブラウザでアクセスしている可能性があります

### スコアボードが開かない

1. ページをリロードしてください
2. ブラウザのコンソールでエラーを確認してください

## フィードバック・バグレポート

問題や改善提案がある場合は、GitHub のリポジトリで Issue を作成してください：
[https://github.com/toakiryu/app-with-opal](https://github.com/toakiryu/app-with-opal)

---

**楽しいプレイを！ Good luck! 🎰**
