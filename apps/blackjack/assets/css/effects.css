/**
 * Visual Effects CSS
 * カードフリップ、チップ移動、勝利アニメーション等の軽量CSS効果
 */

/* カードフリップアニメーション */
.card {
  transition: transform 0.45s ease;
  transform-style: preserve-3d;
}

.card.flipped {
  transform: rotateX(180deg);
}

.card.dealing {
  animation: dealCard 0.5s ease;
}

@keyframes dealCard {
  0% {
    opacity: 0;
    transform: translateY(-20px) rotateX(-15deg);
  }
  100% {
    opacity: 1;
    transform: translateY(0) rotateX(0);
  }
}

/* チップアニメーション */
.chip {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.chip.placing {
  animation: placeChip 0.4s ease;
}

@keyframes placeChip {
  0% {
    transform: translateY(-10px) scale(0.8);
    opacity: 0.5;
  }
  50% {
    transform: translateY(-5px) scale(1.05);
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

.chip.moving {
  animation: moveChip 0.6s ease;
}

@keyframes moveChip {
  0% {
    transform: translateX(0) scale(1);
  }
  50% {
    transform: translateX(20px) translateY(-10px) scale(1.1);
  }
  100% {
    transform: translateX(40px) scale(0.8);
    opacity: 0;
  }
}

/* 勝利アニメーション */
.win-pulse {
  animation: winBounce 0.5s ease;
}

@keyframes winBounce {
  0%, 100% {
    transform: scale(1);
  }
  25% {
    transform: scale(1.1);
  }
  50% {
    transform: scale(0.95);
  }
  75% {
    transform: scale(1.05);
  }
}

.win-glow {
  animation: winGlowSubtle 1.2s ease 2;
}

@keyframes winGlowSubtle {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

/* 敗北アニメーション */
.lose-shake {
  animation: loseShake 0.5s ease;
}

@keyframes loseShake {
  0%, 100% {
    transform: translateX(0);
  }
  25% {
    transform: translateX(-10px);
  }
  75% {
    transform: translateX(10px);
  }
}

.lose-fade {
  animation: loseFade 0.8s ease;
}

@keyframes loseFade {
  0% {
    opacity: 1;
    filter: brightness(1);
  }
  100% {
    opacity: 0.6;
    filter: brightness(0.7) grayscale(0.3);
  }
}

/* バーストエフェクト */
.bust-effect {
  animation: bustEffect 0.6s ease;
}

@keyframes bustEffect {
  0% {
    transform: scale(1);
    filter: brightness(1);
  }
  50% {
    transform: scale(1.05);
    filter: brightness(1.3) saturate(1.5);
  }
  100% {
    transform: scale(1);
    filter: brightness(0.7) grayscale(0.5);
  }
}

/* ボタンクリックエフェクト */
.button-click {
  animation: buttonClick 0.2s ease;
}

@keyframes buttonClick {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(0.95);
  }
  100% {
    transform: scale(1);
  }
}

/* スコア増減アニメーション */
.score-increase {
  animation: scoreBounce 0.5s ease;
}

@keyframes scoreBounce {
  0%, 100% {
    transform: scale(1);
  }
  25% {
    transform: scale(1.15);
  }
  50% {
    transform: scale(0.95);
  }
  75% {
    transform: scale(1.05);
  }
}

.score-decrease {
  animation: scoreBounce 0.5s ease;
}

/* フェードイン/アウト */
.fade-in {
  animation: fadeIn 0.4s ease;
}

@keyframes fadeIn {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

.fade-out {
  animation: fadeOut 0.4s ease;
}

@keyframes fadeOut {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

/* スライドイン */
.slide-in-up {
  animation: slideInUp 0.5s ease;
}

@keyframes slideInUp {
  0% {
    transform: translateY(20px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

/* 動きの軽減モード対応 */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* reduced-motionクラスによる制御 */
.reduced-motion *,
.reduced-motion *::before,
.reduced-motion *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
}

/* パルス効果（控えめ） */
.subtle-pulse {
  animation: subtlePulse 2s ease infinite;
}

@keyframes subtlePulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.85;
  }
}

/* ホバーエフェクト */
.hover-lift {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.reduced-motion .hover-lift:hover {
  transform: none;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* ローディング/スピナー */
.spinner {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

.reduced-motion .spinner {
  animation: none;
  opacity: 0.5;
}
